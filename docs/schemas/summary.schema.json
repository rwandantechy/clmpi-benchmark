{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CLMPI Evaluation Summary Schema",
  "description": "Schema for CLMPI evaluation summary files",
  "type": "object",
  "required": ["run_name", "timestamp", "label", "seed", "hardware_info", "config_used", "results"],
  "properties": {
    "run_name": {
      "type": "string",
      "description": "Name of the evaluation run"
    },
    "timestamp": {
      "type": "string",
      "description": "Timestamp of the run in YYYY-MM-DD_HHMMSS format"
    },
    "label": {
      "type": "string",
      "description": "User-provided label for the run"
    },
    "seed": {
      "type": "integer",
      "description": "Random seed used for reproducibility"
    },
    "hardware_info": {
      "type": "object",
      "required": ["cpu_model", "cpu_cores", "memory_gb", "os", "python_version"],
      "properties": {
        "cpu_model": {"type": "string"},
        "cpu_cores": {"type": "string"},
        "memory_gb": {"type": "string"},
        "os": {"type": "string"},
        "python_version": {"type": "string"}
      }
    },
    "config_used": {
      "type": "object",
      "required": ["model_config", "generation_config", "evaluation_weights"],
      "properties": {
        "model_config": {"type": "string"},
        "generation_config": {"type": "string"},
        "evaluation_weights": {
          "type": "object",
          "required": ["accuracy", "contextual_understanding", "coherence", "fluency", "performance_efficiency"],
          "properties": {
            "accuracy": {"type": "number", "minimum": 0, "maximum": 1},
            "contextual_understanding": {"type": "number", "minimum": 0, "maximum": 1},
            "coherence": {"type": "number", "minimum": 0, "maximum": 1},
            "fluency": {"type": "number", "minimum": 0, "maximum": 1},
            "performance_efficiency": {"type": "number", "minimum": 0, "maximum": 1}
          }
        }
      }
    },
    "results": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["model_name", "evaluation_timestamp", "metrics"],
        "properties": {
          "model_name": {"type": "string"},
          "evaluation_timestamp": {"type": "string"},
          "metrics": {"type": "object"},
          "clmpi_scores": {
            "type": "object",
            "required": ["clmpi_01", "clmpi_100", "component_scores"],
            "properties": {
              "clmpi_01": {"type": "number", "minimum": 0, "maximum": 1},
              "clmpi_100": {"type": "number", "minimum": 0, "maximum": 100},
              "component_scores": {
                "type": "object",
                "required": ["accuracy", "contextual_understanding", "coherence", "fluency", "performance_efficiency"],
                "properties": {
                  "accuracy": {"type": "number", "minimum": 0, "maximum": 1},
                  "contextual_understanding": {"type": "number", "minimum": 0, "maximum": 1},
                  "coherence": {"type": "number", "minimum": 0, "maximum": 1},
                  "fluency": {"type": "number", "minimum": 0, "maximum": 1},
                  "performance_efficiency": {"type": "number", "minimum": 0, "maximum": 1}
                }
              }
            }
          }
        }
      }
    }
  }
}
